   
   
   1  pillar 5 all module
   
   
   
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚     Authentication Service                â”‚
   â”‚  - Sign-up, login, sessions, tokens       â”‚
   â”‚-------------------------------------------â”‚
   â”‚  DB Tables:                               â”‚
   â”‚   â€¢ users                                 â”‚
   â”‚   â€¢ sessions                              â”‚
   â”‚   â€¢ auth_tokens                           â”‚
   â”‚-------------------------------------------â”‚
   â”‚  Events:                                  â”‚
   â”‚   â€¢ user.created â†’ triggers profile        â”‚
   â”‚   â€¢ session.invalidated â†’ notify services â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚        Profiles Service                   â”‚
   â”‚  - Identity, wallet linking, preferences  â”‚
   â”‚-------------------------------------------â”‚
   â”‚  DB Tables:                               â”‚
   â”‚   â€¢ profiles                              â”‚
   â”‚   â€¢ wallet_links                          â”‚
   â”‚   â€¢ privacy_settings                      â”‚
   â”‚-------------------------------------------â”‚
   â”‚  Events:                                  â”‚
   â”‚   â€¢ profile.updated â†’ sync to COMMS,MART  â”‚
   â”‚   â€¢ profile.deleted â†’ wipe linked data    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚        Admin Dashboard (E3)               â”‚
   â”‚  - Oversight of users, services, payments â”‚
   â”‚  - Analytics, disputes, flags             â”‚
   â”‚-------------------------------------------â”‚
   â”‚  DB Tables:                               â”‚
   â”‚   â€¢ admin_flags                           â”‚
   â”‚   â€¢ disputes                              â”‚
   â”‚   â€¢ audit_logs                            â”‚
   â”‚   + Read replicas (for analytics queries) â”‚
   â”‚-------------------------------------------â”‚
   â”‚  Events:                                  â”‚
   â”‚   â€¢ admin.action.logged â†’ Logging Service â”‚
   â”‚   â€¢ dispute.updated â†’ Payment Service     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚        Logging & Monitoring               â”‚
   â”‚  - Reliability, metrics, alerts           â”‚
   â”‚-------------------------------------------â”‚
   â”‚  DB Tables:                               â”‚
   â”‚   â€¢ system_logs                           â”‚
   â”‚   â€¢ api_logs                              â”‚
   â”‚   â€¢ alerts                                â”‚
   â”‚-------------------------------------------â”‚
   â”‚  Events:                                  â”‚
   â”‚   â€¢ error.logged â†’ notify Admin Dashboard â”‚
   â”‚   â€¢ service.down â†’ send alert notif       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚        Notifications Backbone             â”‚
   â”‚  - Push, in-app, retries, preferences     â”‚
   â”‚-------------------------------------------â”‚
   â”‚  DB Tables:                               â”‚
   â”‚   â€¢ notification_queue                    â”‚
   â”‚   â€¢ preferences                           â”‚
   â”‚   â€¢ delivery_logs                         â”‚
   â”‚-------------------------------------------â”‚
   â”‚  Events:                                  â”‚
   â”‚   â€¢ notification.sent â†’ confirm delivery  â”‚
   â”‚   â€¢ notification.failed â†’ retry           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚         Other Pillars (Super-App)          â”‚
   â”‚  â€¢ COMMS-1 (Messaging/Comms)               â”‚
   â”‚  â€¢ MART-1 (Marketplace)                    â”‚
   â”‚  â€¢ SERV-1 (Services)                       â”‚
   â”‚  â€¢ PAY-1 (Payments)                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜





 2 Admin Dashboard (E3)-Architecture  



                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    Admin Dashboard Service   â”‚
                              â”‚            (E3)              â”‚
                              â”‚------------------------------â”‚
                              â”‚   Squads / Sub-Modules       â”‚
                              â”‚                              â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ E3.1 User Mgmt API                                    â”‚
   â”‚ - Manage users (ban/unban/reset)                     â”‚
   â”‚ - DB: admin_flags(entity_type=user), audit_logs      â”‚
   â”‚ - API: GET /admin/users                              â”‚
   â”‚ - Emits: admin.action.logged                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ E3.2 Marketplace Oversight API                       â”‚
   â”‚ - Review flagged listings                            â”‚
   â”‚ - DB: admin_flags(entity_type=listing)               â”‚
   â”‚ - API: GET /admin/marketplace                        â”‚
   â”‚ - Emits: admin.action.logged                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ E3.3 Services Oversight API                          â”‚
   â”‚ - Review flagged bookings/services                   â”‚
   â”‚ - DB: admin_flags(entity_type=booking)               â”‚
   â”‚ - API: GET /admin/services                           â”‚
   â”‚ - Emits: admin.action.logged                         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ E3.4 Payments & Disputes API                         â”‚
   â”‚ - Handle disputes, refunds, chargebacks              â”‚
   â”‚ - DB: disputes, audit_logs                           â”‚
   â”‚ - API: GET /admin/payments                           â”‚
   â”‚ - Emits: admin.action.logged, dispute.updated        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ E3.5 Analytics & Logs API                            â”‚
   â”‚ - Aggregate actions, disputes, flags handled         â”‚
   â”‚ - DB: audit_logs, read replicas for queries          â”‚
   â”‚ - API: GET /admin/analytics                          â”‚
   â”‚ - Feeds dashboard charts                             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜






# ğŸ”¹ Admin Dashboard Service (E3) â€“ Architecture

## 1. **High-Level Layers**

1. **Frontend (Admin UI)**

   * Web app (React/Angular/Vue) â†’ Secure login for admins.
   * Role-based access (SuperAdmin, Moderator, Finance, etc.).
   * Dashboard components:

     * **Users Panel**: CRUD, ban/unban, view activity.
     * **Marketplace Panel**: Flagged listings oversight.
     * **Services Panel**: Flagged bookings.
     * **Payments Panel**: Disputes & refunds.
     * **Analytics Panel**: Charts (traffic, revenue, disputes trend).

2. **Backend (Admin Service APIs)**

   * REST APIs (as you listed).
   * RBAC (Role-Based Access Control).
   * Microservice-friendly â†’ interacts with:

     * **User Service**
     * **Marketplace Service**
     * **Payment Service**
     * **Logging & Monitoring Service**

3. **Database Layer**

   * `admin_flags` â†’ stores flagged entities (user, service, listing).
   * `disputes` â†’ stores disputes & payment issues.
   * `audit_logs` â†’ tracks all admin actions (read/write).
   * Read replicas for analytics queries.

4. **Events & Logging**

   * Publishes events like:

     * `admin.action.logged` â†’ Logging Service.
     * `dispute.updated` â†’ Payment Service.
   * Subscribes to:

     * `user.flagged`, `listing.flagged`, `payment.dispute.raised`.

---

## 2. **Detailed Component Architecture**

```
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚        Admin Frontend       â”‚
          â”‚ (React/Angular Dashboard)  â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                 HTTPS / REST APIs
                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         Admin Service (E3)       â”‚
        â”‚----------------------------------â”‚
        â”‚  Auth & RBAC Middleware          â”‚
        â”‚  API Handlers:                   â”‚
        â”‚   â€¢ /admin/users                 â”‚
        â”‚   â€¢ /admin/marketplace           â”‚
        â”‚   â€¢ /admin/services              â”‚
        â”‚   â€¢ /admin/payments              â”‚
        â”‚   â€¢ /admin/analytics             â”‚
        â”‚----------------------------------â”‚
        â”‚  Event Publisher (Kafka/Rabbit)  â”‚
        â”‚  Logging & Metrics Exporter      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚              â”‚        â”‚               â”‚             â”‚
 â–¼              â–¼        â–¼               â–¼             â–¼
User Service  Market   Payment         Logging       Analytics
              place    Service         Service       Engine
              Service
```

---

## 3. **Tech Stack Recommendation**

* **Frontend**: React + Tailwind + Chart.js / Recharts.
* **Backend**: Django REST Framework / Flask + FastAPI (microservice style).
* **Database**: PostgreSQL (with partitioning for logs).
* **Message Queue**: Kafka / RabbitMQ (for event-driven logging).
* **Analytics**: Prometheus + Grafana (for usage & infra monitoring).
* **Authentication**: OAuth2 / JWT (Admin login).
* **API Gateway**: NGINX / Kong / AWS API Gateway.

---

## 4. **Security Considerations**

* Role-based admin access (e.g., Finance admins canâ€™t ban users).
* Audit logs **immutable** (append-only).
* Two-factor authentication for admins.
* Rate limiting + IP whitelisting for admin APIs.

---

## 5. **Scalability**

* **API Gateway** in front to handle load balancing.
* **Service registry** for microservices (Consul / Eureka).
* Horizontal scaling of admin service.
* Event-driven for async updates (avoid direct DB coupling).

---

âœ… This design makes the **Admin Dashboard Service (E3)** modular, scalable, and secure while giving oversight of users, services, marketplace, payments, and analytics.




















                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚        API Gateway            â”‚
                           â”‚ (Routing, Rate Limit, LB)     â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Service Registry    â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                           â”‚           â”‚               â”‚                         â”‚
   â–¼                           â–¼           â–¼               â–¼                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Auth & Identity   â”‚  â”‚ User Profiles     â”‚  â”‚ Logging & Monitoring â”‚   â”‚ Notifications     â”‚
â”‚ DB: users,        â”‚  â”‚ DB: profiles,     â”‚  â”‚ DB: system_logs,     â”‚   â”‚ DB: notification_ â”‚
â”‚ sessions,         â”‚  â”‚ wallet_links,     â”‚  â”‚ api_logs, alerts     â”‚   â”‚ queue, prefs,     â”‚
â”‚ auth_tokens       â”‚  â”‚ privacy_settings  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ delivery_logs     â”‚
â”‚ Events:           â”‚  â”‚ Events:           â”‚            â”‚                â”‚ Events:           â”‚
â”‚ â€¢ user.created    â”‚  â”‚ â€¢ profile.updated â”‚            â”‚ Events:        â”‚ â€¢ notification.   â”‚
â”‚ â€¢ session.        â”‚  â”‚ â€¢ profile.deleted â”‚            â”‚ â€¢ error.logged â”‚   sent            â”‚
â”‚   invalidated     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚ â€¢ service.down â”‚ â€¢ notification.   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚                â”‚   failed          â”‚
          â”‚                                            â–¼                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
          â”‚                                  â”‚   Admin Dashboard    â”‚             â”‚
          â”‚                                  â”‚ DB: admin_flags,     â”‚             â”‚
          â”‚                                  â”‚ disputes, audit_logs â”‚             â”‚
          â”‚                                  â”‚ Events:              â”‚             â”‚
          â”‚                                  â”‚ â€¢ admin.action.loggedâ”‚             â”‚
          â”‚                                  â”‚ â€¢ dispute.updated    â”‚             â”‚
          â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
          â”‚                                              â”‚                       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                         â”‚
                                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                â”‚ Analytics Engine  â”‚
                                                â”‚  (Read replicas   â”‚
                                                â”‚   for heavy       â”‚
                                                â”‚   queries)        â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜








                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚        API Gateway            â”‚
                           â”‚ (Routing, Rate Limit, LB)     â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚  Service Registry    â”‚
                                â”‚ (Discovery, Scaling) â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚                             â”‚                             â”‚
             â–¼                             â–¼                             â–¼

 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Authentication & Identity â”‚   â”‚   User Profiles Service â”‚   â”‚ Admin Service (E3)     â”‚
 â”‚  - Sign up, login         â”‚   â”‚  - Edit profile         â”‚   â”‚  - Users mgmt          â”‚
 â”‚  - Social auth, reset pwd â”‚   â”‚  - Avatar, preferences  â”‚   â”‚  - Marketplace flags   â”‚
 â”‚  - OAuth2 / JWT           â”‚   â”‚                         â”‚   â”‚  - Service flags       â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  - Payment disputes    â”‚
             â”‚                               â”‚                  â”‚  - Analytics reports   â”‚
             â”‚                               â”‚                  â”‚                        â”‚
             â”‚                               â”‚                  â”‚ Event Publisher (Kafka)â”‚
             â”‚                               â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚                               â”‚                              â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚     User Service      â”‚        â”‚ Marketplace Service â”‚          â”‚ Payment Service   â”‚
 â”‚  - User data          â”‚        â”‚  - Listings         â”‚          â”‚  - Payments       â”‚
 â”‚  - Access mgmt        â”‚        â”‚  - Bookings         â”‚          â”‚  - Disputes       â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚          Logging & Monitoring Service             â”‚
             â”‚  - Centralized logs (admin.action.logged)         â”‚
             â”‚  - Health checks, metrics                        â”‚
             â”‚  - Audit logs storage                            â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚  Analytics Engine  â”‚
                           â”‚  - Charts, reports â”‚
                           â”‚  - Trends, ML/BI   â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚         Admin Database Layer          â”‚
                  â”‚--------------------------------------â”‚
                  â”‚ Tables:                              â”‚
                  â”‚  â€¢ admin_flags  â†’ flagged entities    â”‚
                  â”‚  â€¢ disputes     â†’ disputes/issues     â”‚
                  â”‚  â€¢ audit_logs   â†’ admin actions       â”‚
                  â”‚--------------------------------------â”‚
                  â”‚  - Primary DB for transactions        â”‚
                  â”‚  - Read replicas for analytics queriesâ”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜







                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚        API Gateway            â”‚
                           â”‚ (Routing, Rate Limit, LB)     â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚   Service Registry   â”‚
                                â”‚ (Discovery, Scaling) â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                                       â”‚                                       â”‚
   â–¼                                       â–¼                                       â–¼

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Authentication & Identity      â”‚   â”‚ User Profiles Service    â”‚   â”‚ Notifications Backbone    â”‚
â”‚ - Sign up, login, social auth  â”‚   â”‚ - Avatar, preferences    â”‚   â”‚ - Push / In-app, retries  â”‚
â”‚ - Sessions, tokens (JWT/OAuth) â”‚   â”‚ - Wallet links           â”‚   â”‚ - Preferences mgmt        â”‚
â”‚ DB: users, sessions, tokens    â”‚   â”‚ DB: profiles, wallet,    â”‚   â”‚ DB: queue, prefs, logs    â”‚
â”‚ Events: user.created,          â”‚   â”‚     privacy_settings     â”‚   â”‚ Events: notification.sent â”‚
â”‚         session.invalidated    â”‚   â”‚ Events: profile.updated  â”‚   â”‚         notification.failedâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚                              â”‚
                    â”‚                             â”‚                              â”‚
                    â”‚                             â–¼                              â”‚
                    â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
                    â”‚                   â”‚   Admin Service (E3) â”‚                 â”‚
                    â”‚                   â”‚ - User mgmt          â”‚                 â”‚
                    â”‚                   â”‚ - Marketplace flags  â”‚                 â”‚
                    â”‚                   â”‚ - Service disputes   â”‚                 â”‚
                    â”‚                   â”‚ - Analytics reports  â”‚                 â”‚
                    â”‚                   â”‚ DB: admin_flags,     â”‚                 â”‚
                    â”‚                   â”‚     disputes,        â”‚                 â”‚
                    â”‚                   â”‚     audit_logs       â”‚                 â”‚
                    â”‚                   â”‚ Events: admin.action â”‚                 â”‚
                    â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                    â”‚                               â”‚                           â”‚
                    â”‚                               â”‚ Event Bus (Kafka/Stream)  â”‚
                    â”‚                               â”‚                           â”‚
                    â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
                    â”‚             â”‚   Logging & Monitoring Service      â”‚       â”‚
                    â”‚             â”‚ - Centralized logs, health checks   â”‚       â”‚
                    â”‚             â”‚ - Metrics, alerts, audit logs       â”‚       â”‚
                    â”‚             â”‚ DB: system_logs, api_logs, alerts   â”‚       â”‚
                    â”‚             â”‚ Events: error.logged, service.down  â”‚       â”‚
                    â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
                    â”‚                               â”‚                           â”‚
                    â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
                    â”‚                     â”‚  Analytics Engine  â”‚                 â”‚
                    â”‚                     â”‚ - Charts, BI, ML   â”‚                 â”‚
                    â”‚                     â”‚ - Read replicas DB â”‚                 â”‚
                    â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
                    â”‚
                    â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Communication Service (P1)     â”‚   â”‚ Marketplace Service (P2) â”‚   â”‚ Services Module (P3)     â”‚
   â”‚ - Chat, Calls, Contacts        â”‚   â”‚ - Catalog, Orders        â”‚   â”‚ - Ride-hailing, Delivery â”‚
   â”‚ DB: chats, call_logs, contacts â”‚   â”‚ - Inventory, Reviews     â”‚   â”‚ - Bookings, Scheduling   â”‚
   â”‚ Events: message.sent,          â”‚   â”‚ DB: listings, orders,    â”‚   â”‚ DB: rides, deliveries,   â”‚
   â”‚         call.started           â”‚   â”‚     inventory, reviews   â”‚   â”‚     bookings, schedules  â”‚
   â”‚                                â”‚   â”‚ Events: order.placed,    â”‚   â”‚ Events: ride.requested,  â”‚
   â”‚                                â”‚   â”‚         item.flagged     â”‚   â”‚         booking.cancelledâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚                             â”‚                             â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                  â”‚
                                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                    â”‚   Payment Service (P4)     â”‚
                                                    â”‚ - Wallet, Transactions     â”‚
                                                    â”‚ - Fraud detection, disputesâ”‚
                                                    â”‚ DB: wallets, transactions, â”‚
                                                    â”‚     disputes               â”‚
                                                    â”‚ Events: payment.initiated, â”‚
                                                    â”‚         dispute.opened     â”‚
                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜





